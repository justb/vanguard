!function(e){function o(r){if(n[r])return n[r].exports;var t=n[r]={i:r,l:!1,exports:{}};return e[r].call(t.exports,t,t.exports,o),t.l=!0,t.exports}var n={};o.m=e,o.c=n,o.i=function(e){return e},o.d=function(e,n,r){o.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},o.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(n,"a",n),n},o.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},o.p="",o(o.s=7)}([function(e,o,n){"use strict";var r=angular.module("vanguard",["ui.utils","ui.router","angularjs-dropdown-multiselect","ngAnimate"]);r.config(function(e,o){e.state("index",{url:"/index",views:{title:{templateUrl:"/app/carousel.html"},content:{templateUrl:"/app/index.html"}}}).state("order",{url:"/order",views:{content:{templateUrl:"/app/order.html"}}}).state("login",{url:"/login",views:{content:{templateUrl:"/app/login.html"}}}).state("myorder",{url:"/myorder",views:{content:{templateUrl:"/app/myorder.html"}}}).state("detail",{url:"/myorder/:id",views:{content:{templateUrl:"/app/myorder_detail.html"}}}),o.otherwise("/index")}),r.run(function(e,o,n){e.safeApply=function(o){var n=e.$$phase;"$apply"===n||"$digest"===n?o&&"function"==typeof o&&o():this.$apply(o)},e.$on("$stateChangeSuccess",function(o,n,r,t,s){console.log(n),"login"==n.name&&(e.isActive=[0,0,1,0]),"order"==n.name&&(e.isActive=[0,1,0,0]),"myorder"==n.url.substr(1,7)&&(e.isActive=[0,0,0,1]),"index"==n.name&&(e.isActive=[1,0,0,0])})}),e.exports=r},function(e,o,n){"use strict";n(0).controller("IndexCtrl",function(e,o,n,r,t){o.submit=function(){void 0==o.template&&(o.template=!0),o.description&&o.author?($("#submit").addClass("disabled"),setTimeout(function(){$("#submit").removeClass("disabled")},2e3),e({method:"POST",url:"generate/",data:{description:o.description,author:o.author,template:o.template}}).success(function(e,o,n,r){if(console.log(e),'"success"'==e)if($("#download").remove(),$("body").append('<a id="download" href="../vanguard.zip"></a>'),document.all)document.getElementById("download").click();else{var t=document.createEvent("MouseEvents");t.initEvent("click",!0,!0),document.getElementById("download").dispatchEvent(t)}}).error(function(e,o,n,r){})):alert("Please fill in your base info.")}})},function(e,o,n){"use strict";n(0).controller("LoginCtrl",function(e,o,n,r,t){o.login=function(){e({method:"POST",url:"user/login/",data:{name:o.username,password:o.password}}).success(function(e,o,t,s){e&&(console.log(e),n.user=e,r.go("index",null,{reload:!0}))}).error(function(e,o,n,r){})}})},function(e,o,n){"use strict";n(0).controller("MyorderCtrl",function(e,o,n,r,t){e({method:"POST",url:"order/get/",data:{user:n.user?n.user:{}}}).success(function(e,n,r,t){console.log(e),e&&(e.forEach(function(e){e.baseinfo=JSON.parse(e.baseinfo),e.component=JSON.parse(e.component),e.modules=JSON.parse(e.modules)}),o.order=e)}).error(function(e,o,n,r){}),o.detail=function(e){r.go("detail",{id:e},{reload:!0})},o.cancel=function(o){e({method:"POST",url:"order/delete/",data:{id:o}}).success(function(e,o,n,t){r.go("myorder",{},{reload:!0})}).error(function(e,o,n,r){})},o.download=function(e){window.open("generate/download/"+e)}})},function(e,o,n){"use strict";n(0).controller("MyorderDetailCtrl",function(e,o,n,r){o.lll=[{id:1,name:"superagent",version:[{id:1,name:"superagent",version:[1,2,3]},{id:1,name:"superagent",version:[1,2,3]},{id:1,name:"superagent",version:[1,2,3]}]},{id:2,name:"async",version:[{id:1,name:"superagent",version:[1,2,3]},{id:1,name:"superagent",version:[1,2,3]},{id:1,name:"superagent",version:[1,2,3]}]},{id:3,name:"eventproxy",version:[{id:1,name:"superagent",version:[1,2,3]},{id:1,name:"superagent",version:[1,2,3]},{id:1,name:"superagent",version:[1,2,3]}]},{id:4,name:"mysql",version:[{id:1,name:"superagent",version:[1,2,3]},{id:1,name:"superagent",version:[1,2,3]},{id:1,name:"superagent",version:[1,2,3]}]}],o.showComponent=0,o.count=[],o.order={},o.order.module=[],o.order.component=[],o.order.baseinfo={},o.order.framework={},o.order.template={},o.settings={displayProp:"name",idProp:"name",buttonDefaultText:"Select Modules"},o.backends=[{name:"Kraken"},{name:"Express"}],o.frontends=[{name:"angular"}],o.templates=[{name:"Acxiom Style"},{name:"Vanguard Style"}],e({method:"GET",url:"module/",data:{}}).success(function(e,n,r,t){o.modules=e,e.forEach(function(e,n){o.modules[n].version=e.version.split(",")}),console.log(o.modules)}).error(function(e,o,n,r){}),e({method:"GET",url:"component/",data:{}}).success(function(e,n,r,t){o.components=e,e.forEach(function(e,n){o.components[n].version=e.version.split(",")}),console.log(o.components)}).error(function(e,o,n,r){}),console.log(n.id),e({method:"GET",url:"order/"+n.id}).success(function(e,n,r,t){console.log(e[0]),o.order.baseinfo=JSON.parse(e[0].baseinfo),o.order.module=JSON.parse(e[0].modules),o.order.component=JSON.parse(e[0].component),o.order.template.name=e[0].template,o.order.framework.name=e[0].framework}).error(function(e,o,n,r){}),o.addComponent=function(e,n){var r=0;o.order.component.forEach(function(o,t){o.name==e.name&&(o.version=n,r=1)}),0==r&&o.order.component.push({name:e.name,version:n})},o.deleteComponent=function(e){o.order.component.splice(e,1)},o.addModule=function(e,n){var r=0;o.order.module.forEach(function(o,t){o.name==e.name&&(o.version=n,r=1)}),0==r&&o.order.module.push({name:e.name,version:n})},o.deleteModule=function(e){o.order.module.splice(e,1)},o.deleteC=function(e){o.order.component.forEach(function(n,r){n.name==e.name&&o.order.component.splice(r,1)})},o.isSelected=function(e){var n=0;if(o.order.component.forEach(function(o,r){o.name==e.name&&(n=1)}),n)return!0},o.isSelectedVersion=function(e,n){var r=0;if(o.order.component.forEach(function(o,t){o.name==e.name&&o.version==n&&(r=1)}),r)return!0},o.save=function(){console.log(o.order),e({method:"post",url:"order/update",data:{id:n.id,order:o.order}}).success(function(e,o,n,r){console.log("chenggong")}).error(function(e,o,n,r){})}})},function(e,o,n){"use strict";n(0).controller("OrderCtrl",function(e,o,n,r){o.showComponent=0,o.count=[],o.order={},o.order.component=[],o.order.module=[],o.order.baseinfo={},o.settings={displayProp:"name",idProp:"name",buttonDefaultText:"Select Modules"},o.frameworks=[{name:"Kraken"}],o.templates=[{name:"Acxiom Style"},{name:"Vanguard Style"}],e({method:"GET",url:"module/",data:{}}).success(function(e,n,r,t){o.modules=e,e.forEach(function(e,n){o.modules[n].version=e.version.split(",")})}).error(function(e,o,n,r){}),e({method:"GET",url:"component/",data:{}}).success(function(e,n,r,t){o.components=e,e.forEach(function(e,n){o.components[n].version=e.version.split(","),console.log(o.components[n])})}).error(function(e,o,n,r){}),o.addComponent=function(e,n){var r=0;o.order.component.forEach(function(o,t){o.name==e.name&&(o.version=n,r=1)}),0==r&&o.order.component.push({name:e.name,version:n})},o.deleteComponent=function(e){o.order.component.splice(e,1)},o.addModule=function(e,n){var r=0;o.order.module.forEach(function(o,t){o.name==e.name&&(o.version=n,r=1)}),0==r&&o.order.module.push({name:e.name,version:n})},o.deleteModule=function(e){o.order.module.splice(e,1)},o.isSelected=function(e,n){o.order.component.forEach(function(o,n){if(o==e)return!0})},o.submit=function(){console.log(o.order),n.user?e({method:"post",url:"order/add",data:{order:o.order}}).success(function(e,o,n,r){$("#SubmitSuccess").modal("show")}).error(function(e,o,n,r){}):$("#myModal").modal("show")},o.toLogin=function(){$("#myModal").modal("hide"),r.go("login",null,{reload:!0})}})},function(e,o,n){"use strict";n(0).controller("UserCtrl",function(e,o,n,r,t){e({method:"GET",url:"user/session/"}).success(function(e,o,r,t){e&&(console.log(e),n.user=e)}).error(function(e,o,n,r){}),o.logout=function(){e({method:"GET",url:"user/logout/"}).success(function(e,o,t,s){n.user=null,r.go("index",null,{reload:!0})}).error(function(e,o,n,r){})}})},function(e,o,n){"use strict";n(1),n(2),n(3),n(4),n(5),n(6)}]);